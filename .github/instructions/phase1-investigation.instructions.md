---
applyTo: "**/*"
---

# Phase 1: Investigation & Research（調査フェーズ）専用指示

このフェーズでは、**既存コードの理解とADRの確認が最優先**です。

## 必須アクション

1. **ADR確認（最優先）**
   - `docs/adr/index.json`を必ず確認
   - 関連するADRファイル（`docs/adr/decisions/*.json`）を読む
   - 既存の決定との一貫性を検証

2. **コードベース調査**
   - Kiri MCPの`context_bundle`で関連コードを取得
   - `files_search`で具体的な関数/クラスを検索
   - `deps_closure`で依存関係を分析

3. **ライブラリドキュメント確認**
   - Context7 MCPで最新ドキュメントを取得
   - API使用パターンを検証

## 出力フォーマット

調査結果は以下の構造でまとめてください：

```markdown
## 調査結果サマリー

### ADR確認
- 確認したADR: ADR-XXXX, ADR-YYYY
- 関連する決定: [要約]
- 一貫性: ✅/⚠️

### コードベース分析
- 関連ファイル: [リスト]
- 既存パターン: [説明]
- 依存関係: [重要な依存]

### 推奨アプローチ
[実装方針]
```
